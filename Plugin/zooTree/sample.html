<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title>sample</title>
	<meta name="description" content="">
	<meta name="author" content="JOO">

	<link rel="StyleSheet" href="css/orgTree.css" />

	<script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
	<script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
	<script src="js/jsonTree.js"></script>

	<script>

		$(document).ready(function(){

			$.ajax({
				async: false,
				type: "GET",
				url : "data/data.json",
				dataType: "json",
				cache: false,
				success:function(data){
					if(data.length == 0) {
					}else{

						$("#beforeJSON").html( JSON.stringify(data, null, "    ") );
						var jsonData = getTreeModel( data, '999',{
			            	id: "itemId",
			            	parentId: "parentId",
			            	order: ["label","desc"]
						});
						$("#afterJSON").html( JSON.stringify(jsonData, null, "    ") );

						$(".verticalTree").jooTree(jsonData, {
							forceCreate: true,
							render: function(data) {
								var $a = $("<a>").append(data.label);
								return $a;
							}
						});
						$(".horizontalTree").jooTree(jsonData, {
							forceCreate: true,
							render: function(data) {
								var $a = $("<a>").append(data.label);
								return $a;
							}
						});
						$(".horizontalTreeTop").jooTree(jsonData, {
							forceCreate: true,
							render: function(data) {
								var $a = $("<a>").append(data.label);
								return $a;
							}
						});

					}
				}
			});

		});

	</script>
	<style>
		pre,
		div {
			background: #CEFBC9;
		}
	</style>
</head>

<body>
	<h3>세로형 조직도</h3>
	<div class="verticalTree"></div>
	<h3>가로형 조직도(최상위계층:중단)</h3>
	<div class="horizontalTree"></div>
	<h3>가로형 조직도(최상위계층:상단)</h3>
	<div class="horizontalTreeTop"></div>
	<h3>변환해야 할 배열 모델</h3>
	<pre id="beforeJSON">...</pre>
	<br>
	<h3>변환된 트리 모델</h3>
	<pre id="afterJSON">...</pre>
</body>
</html>
